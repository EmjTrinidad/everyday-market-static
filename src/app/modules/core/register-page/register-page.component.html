<h2>Register Now to Start Shopping!</h2>

<form #registerForm="ngForm" (ngSubmit)="onSubmit()">
  <!-- Name Field with Custom Validator -->
  <label for="name">Name:</label>
  <input type="text" id="name" name="name" ngModel appValidName required>
  <div *ngIf="registerForm.form.controls['name']?.errors && registerForm.form.controls['name']?.touched">
    <small *ngIf="registerForm.form.controls['name'].errors?.['minLength']" style="color: red;">
      Name must be at least 5 characters long.
    </small>
    <small *ngIf="registerForm.form.controls['name'].errors?.['invalidName']" style="color: red;">
      Name must contain only letters and spaces.
    </small>
  </div>
  <br>

  <!-- Email -->
  <label for="email">Email:</label>
  <input type="email" id="email" name="email" ngModel required>
  <div *ngIf="registerForm.form.controls['email']?.errors && registerForm.form.controls['email']?.touched">
    <small style="color: red;">Enter a valid email address.</small>
  </div>
  <br>

  <!-- Phone Number Field with Custom Validator -->
  <label for="phone">Phone Number:</label>
  <input type="text" id="phone" name="phone" ngModel appValidPhone required>
  <div *ngIf="registerForm.form.controls['phone']?.errors && registerForm.form.controls['phone']?.touched">
    <small *ngIf="registerForm.form.controls['phone'].errors?.['invalidPhone']" style="color: red;">
      Phone number must be exactly 10 digits.
    </small>
  </div>
  <br>

  <!-- Date of Birth -->
  <label for="dob">Date of Birth:</label>
  <input type="date" id="dob" name="dob" ngModel required>
  <div *ngIf="registerForm.form.controls['dob']?.errors && registerForm.form.controls['dob']?.touched">
    <small style="color: red;">Please enter a valid date.</small>
  </div>
  <br>

  <!-- Street Address -->
  <label for="address">Street Address:</label>
  <input type="text" id="address" name="address" ngModel required>
  <br>

  <!-- Province Dropdown -->
  <label for="province">Province:</label>
  <select id="province" name="province" ngModel required>
    <option value="">Select a province</option>
    <option *ngFor="let p of provinces" [value]="p">{{ p }}</option>
  </select>
  <div *ngIf="registerForm.form.controls['province']?.errors && registerForm.form.controls['province']?.touched">
    <small style="color: red;">Please select a province.</small>
  </div>
  <br>

  <!-- Country Dropdown -->
  <label for="country">Country:</label>
  <select id="country" name="country" [(ngModel)]="selectedCountry" required>
    <option value="">Select a country</option>
    <option value="Canada">Canada</option>
    <option value="United States">United States</option>
  </select>
  <div *ngIf="selectedCountry !== 'Canada' && registerForm.form.controls['country']?.touched">
    <small style="color: red;">You must select Canada to proceed.</small>
  </div>
  <br>

  <!-- Terms & Conditions -->
  <label>
    <input type="checkbox" name="terms" ngModel required>
    I accept the Terms & Conditions
  </label>
  <div *ngIf="registerForm.form.controls['terms']?.errors && registerForm.form.controls['terms']?.touched">
    <small style="color: red;">You must accept the Terms & Conditions.</small>
  </div>
  <br>

  <!-- Submit Button (Disabled if form is invalid) -->
  <button type="submit" [disabled]="registerForm.invalid">Submit</button>
</form>
